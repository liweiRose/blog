<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Network | Summary of front-end knowledge system</title>
    <meta name="description" content="Knowledge summary">
    
    
    <link rel="preload" href="/blog/assets/css/styles.bbf9b450.css" as="style"><link rel="preload" href="/blog/assets/js/app.bbf9b450.js" as="script"><link rel="preload" href="/blog/assets/js/31.295a6e5c.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.b004193e.js"><link rel="prefetch" href="/blog/assets/js/10.a2e87714.js"><link rel="prefetch" href="/blog/assets/js/11.5afa5704.js"><link rel="prefetch" href="/blog/assets/js/12.c3637a44.js"><link rel="prefetch" href="/blog/assets/js/13.82d97201.js"><link rel="prefetch" href="/blog/assets/js/14.ad92e4dd.js"><link rel="prefetch" href="/blog/assets/js/15.049edb33.js"><link rel="prefetch" href="/blog/assets/js/16.d694c40d.js"><link rel="prefetch" href="/blog/assets/js/17.adb2a3c3.js"><link rel="prefetch" href="/blog/assets/js/18.775fa98a.js"><link rel="prefetch" href="/blog/assets/js/19.90e87bc7.js"><link rel="prefetch" href="/blog/assets/js/2.30a30258.js"><link rel="prefetch" href="/blog/assets/js/20.fc91738a.js"><link rel="prefetch" href="/blog/assets/js/21.4d608a27.js"><link rel="prefetch" href="/blog/assets/js/22.5c761326.js"><link rel="prefetch" href="/blog/assets/js/23.cc90d820.js"><link rel="prefetch" href="/blog/assets/js/24.57b17f45.js"><link rel="prefetch" href="/blog/assets/js/25.7ac9e420.js"><link rel="prefetch" href="/blog/assets/js/26.c7e943de.js"><link rel="prefetch" href="/blog/assets/js/27.abeb220b.js"><link rel="prefetch" href="/blog/assets/js/28.ccde5b28.js"><link rel="prefetch" href="/blog/assets/js/29.37cd1ae7.js"><link rel="prefetch" href="/blog/assets/js/3.0e49949f.js"><link rel="prefetch" href="/blog/assets/js/30.f4ce5f65.js"><link rel="prefetch" href="/blog/assets/js/32.0400a764.js"><link rel="prefetch" href="/blog/assets/js/33.943f7914.js"><link rel="prefetch" href="/blog/assets/js/34.005dcaec.js"><link rel="prefetch" href="/blog/assets/js/35.375eb94c.js"><link rel="prefetch" href="/blog/assets/js/36.408efb92.js"><link rel="prefetch" href="/blog/assets/js/37.a166a664.js"><link rel="prefetch" href="/blog/assets/js/38.0ed024ee.js"><link rel="prefetch" href="/blog/assets/js/39.51926688.js"><link rel="prefetch" href="/blog/assets/js/4.c41af5c5.js"><link rel="prefetch" href="/blog/assets/js/40.19c3e4ce.js"><link rel="prefetch" href="/blog/assets/js/41.e3951436.js"><link rel="prefetch" href="/blog/assets/js/42.8dd2677a.js"><link rel="prefetch" href="/blog/assets/js/43.ddedb97d.js"><link rel="prefetch" href="/blog/assets/js/44.19206bd8.js"><link rel="prefetch" href="/blog/assets/js/45.630d2c77.js"><link rel="prefetch" href="/blog/assets/js/46.40218b03.js"><link rel="prefetch" href="/blog/assets/js/47.91206af7.js"><link rel="prefetch" href="/blog/assets/js/48.a052eb7b.js"><link rel="prefetch" href="/blog/assets/js/49.175ffb68.js"><link rel="prefetch" href="/blog/assets/js/5.4f974c14.js"><link rel="prefetch" href="/blog/assets/js/50.a671a2ab.js"><link rel="prefetch" href="/blog/assets/js/51.1861f375.js"><link rel="prefetch" href="/blog/assets/js/52.f41eae94.js"><link rel="prefetch" href="/blog/assets/js/53.df51085d.js"><link rel="prefetch" href="/blog/assets/js/54.d3a9bd65.js"><link rel="prefetch" href="/blog/assets/js/55.7a6c3c58.js"><link rel="prefetch" href="/blog/assets/js/56.99075387.js"><link rel="prefetch" href="/blog/assets/js/57.c5afbc0a.js"><link rel="prefetch" href="/blog/assets/js/58.28b42569.js"><link rel="prefetch" href="/blog/assets/js/59.07284e60.js"><link rel="prefetch" href="/blog/assets/js/6.49ac08c0.js"><link rel="prefetch" href="/blog/assets/js/60.50bebdb6.js"><link rel="prefetch" href="/blog/assets/js/61.17e98a93.js"><link rel="prefetch" href="/blog/assets/js/62.574ab1d4.js"><link rel="prefetch" href="/blog/assets/js/63.4e1180cf.js"><link rel="prefetch" href="/blog/assets/js/64.eed3a9aa.js"><link rel="prefetch" href="/blog/assets/js/65.8a20fe0d.js"><link rel="prefetch" href="/blog/assets/js/66.3a95b15f.js"><link rel="prefetch" href="/blog/assets/js/67.5df4a59d.js"><link rel="prefetch" href="/blog/assets/js/68.13f9b079.js"><link rel="prefetch" href="/blog/assets/js/69.01f44654.js"><link rel="prefetch" href="/blog/assets/js/7.590b3483.js"><link rel="prefetch" href="/blog/assets/js/70.d62a584b.js"><link rel="prefetch" href="/blog/assets/js/71.fe54ec49.js"><link rel="prefetch" href="/blog/assets/js/72.67472092.js"><link rel="prefetch" href="/blog/assets/js/73.62de0ecc.js"><link rel="prefetch" href="/blog/assets/js/74.e8872ddd.js"><link rel="prefetch" href="/blog/assets/js/75.9192d001.js"><link rel="prefetch" href="/blog/assets/js/76.d8c42c4e.js"><link rel="prefetch" href="/blog/assets/js/8.1666095d.js"><link rel="prefetch" href="/blog/assets/js/9.c7e7c7d0.js">
    <link rel="stylesheet" href="/blog/assets/css/styles.bbf9b450.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/blog/" class="home-link router-link-active"><!----><span class="site-name">
      Summary of front-end knowledge system
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/cllemon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更多
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/cllemon/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/cllemon" target="_blank" rel="noopener noreferrer" class="nav-link external">
  更多
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/cllemon/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>Browser</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JavaScript ES6</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS Utils</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Interview</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/blog/app/Interview/Interview-javascript.html" class="sidebar-link">javascript</a></li><li><a href="/blog/app/Interview/Interview-css.html" class="sidebar-link">css 相关</a></li><li><a href="/blog/app/Interview/Interview-html.html" class="sidebar-link">HTML</a></li><li><a href="/blog/app/Interview/Interview-network.html" class="active sidebar-link">Network</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#tcp-三次握手-四次挥手" class="sidebar-link">TCP 三次握手 四次挥手</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#tcp-和-udp-的区别" class="sidebar-link">TCP 和 UDP 的区别</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#常见-web-安全" class="sidebar-link">常见 web 安全</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#http-和-https" class="sidebar-link">HTTP 和 HTTPS</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#cookie-和-session" class="sidebar-link">Cookie 和 session</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#sessionstorage-和-localstorage" class="sidebar-link">sessionStorage 和 localStorage</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#一个页面从输入-url-到页面加载显示完成，这个过程中都发生了什么？" class="sidebar-link">一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#同源策略" class="sidebar-link">同源策略</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#get-和-post-的区别，何时使用-post？" class="sidebar-link">GET 和 POST 的区别，何时使用 POST？</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#http-状态码" class="sidebar-link">HTTP 状态码</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#网络七层模型" class="sidebar-link">网络七层模型</a></li><li class="sidebar-sub-header"><a href="/blog/app/Interview/Interview-network.html#网络协议" class="sidebar-link">网络协议</a></li></ul></li><li><a href="/blog/app/Interview/Interview-algorithm.html" class="sidebar-link">算法 相关</a></li><li><a href="/blog/app/Interview/Interview-data-structure.html" class="sidebar-link">数据结构</a></li><li><a href="/blog/app/Interview/interview-summary.html" class="sidebar-link">面试总结</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Engineering</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Engineering Practice</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Underscore SourceCode Parsing</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Lodash SourceCode Parsing</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="network"><a href="#network" aria-hidden="true" class="header-anchor">#</a> Network</h1><h2 id="tcp-三次握手-四次挥手"><a href="#tcp-三次握手-四次挥手" aria-hidden="true" class="header-anchor">#</a> TCP 三次握手 四次挥手</h2><p>建立和断开连接的一种策略</p><h3 id="连接"><a href="#连接" aria-hidden="true" class="header-anchor">#</a> 连接</h3><div class="language-js extra-class"><pre class="language-js"><code>
 ① 发送端 发送 一个带<span class="token constant">SYN</span>标志的数据包 给接收端

 ② 接收端收到后，回传 一个带有<span class="token constant">SYN</span><span class="token operator">/</span><span class="token constant">ACK</span>标志的数据包 确认收到了信息

 ③ 发送端再回传 一个带<span class="token constant">ACK</span>标志的数据包 代表“握手”结束

 tips<span class="token punctuation">:</span> 若在握手过程中某个阶段莫名中断，<span class="token constant">TCP</span>协议会再次以相同的顺序发送相同的数据包

</code></pre></div><h3 id="断开-tcp-连接"><a href="#断开-tcp-连接" aria-hidden="true" class="header-anchor">#</a> 断开 TCP 连接</h3><div class="language-js extra-class"><pre class="language-js"><code>
  ① 主动关闭方 发送一个 <span class="token constant">FIN</span> <span class="token punctuation">(</span>告知对方我已经不再发送数据了<span class="token punctuation">)</span>

  ② 被动关闭方 收到<span class="token constant">FIN</span>包后，发送一个<span class="token constant">ACK</span>给对方，确认序号为收到序号<span class="token operator">+</span><span class="token number">1</span>

  ③ 被动关闭方 再发送一个<span class="token constant">FIN</span> （ 告诉主动关闭方，我的数据也发送完了，不会再给你发数据了 ）

  ④ 主动关闭方 收到<span class="token constant">FIN</span>后，发送一个<span class="token constant">ACK</span>给被动关闭方，确认序号为收到序号<span class="token operator">+</span><span class="token number">1</span>

</code></pre></div><h2 id="tcp-和-udp-的区别"><a href="#tcp-和-udp-的区别" aria-hidden="true" class="header-anchor">#</a> TCP 和 UDP 的区别</h2><h3 id="tcp（transmission-control-protocol，传输控制协议）"><a href="#tcp（transmission-control-protocol，传输控制协议）" aria-hidden="true" class="header-anchor">#</a> TCP（Transmission Control Protocol，传输控制协议）</h3><ul><li>TCP 是基于连接的协议，在正式收发数据前，必须和对方建立可靠的连接。</li><li>一个 TCP 连接必须要经过三次“对话”才能建立起来。</li></ul><h3 id="udp（user-data-protocol，用户数据报协议）"><a href="#udp（user-data-protocol，用户数据报协议）" aria-hidden="true" class="header-anchor">#</a> UDP（User Data Protocol，用户数据报协议）</h3><ul><li><p>UDP 是与 TCP 相对应的协议。它是面向非连接的协议，它不与对方建立连接，而是直接就把数据包发送过去。</p></li><li><p>UDP 适用于一次只传送少量数据、对可靠性要求不高的应用环境。</p></li></ul><h2 id="常见-web-安全"><a href="#常见-web-安全" aria-hidden="true" class="header-anchor">#</a> 常见 web 安全</h2><h3 id="xss-cross-site-scripting-攻击"><a href="#xss-cross-site-scripting-攻击" aria-hidden="true" class="header-anchor">#</a> Xss(cross-site scripting)攻击</h3><ul><li><p>指的是攻击者往 Web 页面里插入恶意 html 标签或者 javascript 代码</p></li><li><p>如：攻击者在论坛中加一个恶意表单</p><ul><li>如果网站不需要再浏览器端对 cookie 进行操作，可以在 Set-Cookie 末尾加上 HttpOnly 来防止 javascript 代码直接获取 cookie</li><li>尽量采用 POST 而非 GET 提交表单</li></ul></li></ul><h3 id="csrf-攻击"><a href="#csrf-攻击" aria-hidden="true" class="header-anchor">#</a> CSRF 攻击</h3><ul><li><p>CSRF 是代替用户完成指定的动作</p></li><li><p>完成一次 CSRF 攻击，受害者必须依次完成两个步骤：</p><ul><li>登录受信任网站 A，并在本地生成 Cookie</li><li>在不登出 A 的情况下，访问危险网站 B</li></ul></li><li><p>在客户端页面增加伪随机数以防御</p></li></ul><h2 id="http-和-https"><a href="#http-和-https" aria-hidden="true" class="header-anchor">#</a> HTTP 和 HTTPS</h2><h3 id="http"><a href="#http" aria-hidden="true" class="header-anchor">#</a> HTTP</h3><ul><li>HTTP 协议通常承载于 TCP 协议之上</li><li>默认 HTTP 的端口号为 80</li></ul><h3 id="https"><a href="#https" aria-hidden="true" class="header-anchor">#</a> HTTPS</h3><ul><li><p>在 HTTP 和 TCP 之间添加一个安全协议层（SSL 或 TSL）</p></li><li><p>HTTPS 的端口号为 443</p></li><li><p>安全性强</p><ul><li><p>因为网络请求需要中间有很多的服务器路由器的转发。中间的节点都可能篡改信息，所以 HTTP 存在安全性问题</p></li><li><p>使用 HTTPS，密钥在你和终点站才有</p></li><li><p>利用 ssl/tls 协议传输 (它包含证书，卸载，流量转发，负载均衡，页面适配，浏览器适配，refer 传递等)</p></li><li><p>从而保障了传输过程的安全性</p></li></ul></li></ul><h3 id="http-2-0"><a href="#http-2-0" aria-hidden="true" class="header-anchor">#</a> Http 2.0</h3><ul><li><p>HTTP/2 引入了“服务端推（server push）”的概念，它允许服务端在客户端需要数据之前就主动地将数据发送到客户端缓存中，从而提高性能。</p></li><li><p>HTTP/2 提供更多的加密支持</p></li><li><p>HTTP/2 使用多路技术，允许多个消息在一个连接上同时交差。</p></li><li><p>HTTP/2 增加了头压缩（header compression），因此即使非常小的请求，其请求和响应的 header 都只会占用很小比例的带宽。</p></li></ul><h2 id="cookie-和-session"><a href="#cookie-和-session" aria-hidden="true" class="header-anchor">#</a> Cookie 和 session</h2><ul><li><p>Cookie 是一种存储机制，提供持久保存客户端数据的能力</p></li><li><p>session 对象存储在 Cookie 中， 保存一些常用的信息，如：access_token/user_info</p></li><li><p>cookie 数据存放在客户的浏览器上，session 数据放在服务器上</p></li><li><p>每个特定的域名下最多生成 20 个 Cookie</p></li><li><p>Cookie 的最大约为 4096 字节，为了兼容性，一般不能超过 4095 字节</p></li><li><p>每次请求一个新的页面 Cookie 都会被发送过去</p></li></ul><h3 id="应用"><a href="#应用" aria-hidden="true" class="header-anchor">#</a> 应用</h3><p>由于 http 无状态，所以需要存在一种机制去标识状态</p><div class="language- extra-class"><pre class="language-text"><code>- 基于 Cookie 的身份验证 &amp; 验证流程

  - 因为 cookie 验证有状态 所以会话信息(session) 同时保存在客户端(cookie) 和 服务端(sql)

  - cookie 绑定单域 a.com 生成的不能再 b.com 中用

  - 流程:
    - 用户登录获取凭证
    - 服务器验证凭证正确与否
    - 若验证通过创建会话（set-cookie）(服务端存一份，浏览器端直接写入到 cookie，根据是否设置 http-only 决定浏览器端是否可操作 cookie，获取 session 拿到凭证信息)
    - 后续请求均走上述验证流程
    - 若 用户登出 则服务端与浏览器端同时清除 session

- 基于 Token 的身份验证 &amp; 验证流程

  - 基于 JWT（JSON Web Tokens）生成 token
  - 服务端不需要记录 token
  - 多站点使用
  - 支持 ios/Android
  - 性能较好

  - 流程：
    - 用户登录获取凭证
    - 服务器验证凭证，成功则返回一个已经签名后的 token
    - 客服端存储 token
    - 客服端请求，头里带上 token
    - 服务端校验 token 合法性, 是否过期等
    - 用户登出 客户端销毁 token
</code></pre></div><h2 id="sessionstorage-和-localstorage"><a href="#sessionstorage-和-localstorage" aria-hidden="true" class="header-anchor">#</a> sessionStorage 和 localStorage</h2><h3 id="sessionstorage"><a href="#sessionstorage" aria-hidden="true" class="header-anchor">#</a> sessionStorage</h3><p>sessionStorage 用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问并且当会话结束后数据也随之销毁。因此 sessionStorage 不是一种持久化的本地存储，仅仅是会话级别的存储。</p><h3 id="localstorage"><a href="#localstorage" aria-hidden="true" class="header-anchor">#</a> localStorage</h3><p>localStorage 用于持久化的本地存储，除非主动删除数据，否则数据是永远不会过期的。</p><h2 id="一个页面从输入-url-到页面加载显示完成，这个过程中都发生了什么？"><a href="#一个页面从输入-url-到页面加载显示完成，这个过程中都发生了什么？" aria-hidden="true" class="header-anchor">#</a> 一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？</h2><ul><li><p>（1），当发送一个 URL 请求时，不管这个 URL 是 Web 页面的 URL 还是 Web 页面上每个资源的 URL，浏览器都会开启一个线程来处理这个请求，同时在远程 DNS 服务器上启动一个 DNS 查询。这能使浏览器获得请求对应的 IP 地址。</p></li><li><p>（2）， 浏览器与远程<code>Web</code>服务器通过<code>TCP</code>三次握手协商来建立一个<code>TCP/IP</code>连接。该握手包括一个同步报文，一个同步-应答报文和一个应答报文， 这三个报文在 浏览器和服务器之间传递。该握手首先由客户端尝试建立起通信，而后服务器应答并接受客户端的请求，最后由客户端发出该请求已经被接受的报文。</p></li><li><p>（3），一旦<code>TCP/IP</code>连接建立，浏览器会通过该连接向远程服务器发送<code>HTTP</code>的<code>GET</code>请求。远程服务器找到资源并使用 HTTP 响应返回该资源，值为 200 的 HTTP 响应状态表示一个正确的响应。</p></li><li><p>（4），此时，<code>Web</code>服务器提供资源服务，客户端开始下载资源。</p></li><li><p>（5），前端层面，浏览器会解析<code>HTML</code>生成<code>DOM Tree</code>，其次会根据 CSS 生成 CSS Rule Tree，而<code>javascript</code>又可以根据<code>DOM API</code>操作<code>DOM</code></p></li></ul><div class="language- extra-class"><pre class="language-text"><code>
  详细版：
  1、浏览器会开启一个线程来处理这个请求，对 URL 分析判断如果是 http 协议就按照 Web 方式来处理;
  2、调用浏览器内核中的对应方法，比如 WebView 中的 loadUrl 方法;
  3、通过 DNS 解析获取网址的 IP 地址，设置 UA 等信息发出第二个 GET 请求;
  4、进行 HTTP 协议会话，客户端发送报头(请求报头);
  5、进入到 web 服务器上的 Web Server，如 Apache、Tomcat、Node.JS 等服务器;
  6、进入部署好的后端应用，如 PHP、Java、JavaScript、Python 等，找到对应的请求处理;
  7、处理结束回馈报头，此处如果浏览器访问过，缓存上有对应资源，会与服务器最后修改时间对比，一致则返回 304;
  8、浏览器开始下载 html 文档(响应报头，状态码 200)，同时使用缓存;
  9、文档树建立，根据标记请求所需指定 MIME 类型的文件（比如 css、js）,同时设置了 cookie;
  10、页面开始渲染 DOM，JS 根据 DOM API 操作 DOM,执行事件绑定等，页面显示完成。

  简洁版：
  浏览器根据请求的 URL 交给 DNS 域名解析，找到真实 IP，向服务器发起请求；
  服务器交给后台处理完成后返回数据，浏览器接收文件（HTML、JS、CSS、图象等）；
  浏览器对加载到的资源（HTML、JS、CSS 等）进行语法解析，建立相应的内部数据结构（如 HTML 的 DOM）；
  载入解析到的资源文件，渲染页面，完成。

</code></pre></div><blockquote><p>这里可扩展，这里只是简单说说</p></blockquote><h2 id="同源策略"><a href="#同源策略" aria-hidden="true" class="header-anchor">#</a> 同源策略</h2><ul><li><p>指的是：协议，域名，端口相同，同源策略是一种安全协议</p></li><li><p>为什么要有同源限制?</p><ul><li>因为可以利用 Iframe 把真正的银行登录页面嵌到他的页面上，当你使用真实的用户名，密码登录时，他的页面就可以通过 Javascript 读取到你的表单中 input 中的内容</li></ul></li></ul><h2 id="get-和-post-的区别，何时使用-post？"><a href="#get-和-post-的区别，何时使用-post？" aria-hidden="true" class="header-anchor">#</a> GET 和 POST 的区别，何时使用 POST？</h2><ul><li><p>GET：一般用于信息获取，使用 URL 传递参数，对所发送信息的数量也有限制，一般在 2000 个字符</p></li><li><p>POST：一般用于修改服务器上的资源，对所发送的信息没有限制。</p></li><li><p>GET 方式需要使用 Request.QueryString 来取得变量的值，而 POST 方式通过 Request.Form 来获取变量的值，也就是说 Get 是通过地址栏来传值，而 Post 是通过提交表单来传值。</p></li><li><p>然而，在以下情况中，请使用 POST 请求：</p><ul><li><p>无法使用缓存文件（更新服务器上的文件或数据库）</p></li><li><p>向服务器发送大量数据（POST 没有数据量限制）</p></li><li><p>发送包含未知字符的用户输入时，POST 比 GET 更稳定也更可靠</p></li></ul></li></ul><h2 id="http-状态码"><a href="#http-状态码" aria-hidden="true" class="header-anchor">#</a> HTTP 状态码</h2><div class="language-js extra-class"><pre class="language-js"><code>
<span class="token operator">-</span> <span class="token number">100</span> Continue 继续，一般在发送 post 请求时，
      已发送了 http header 之后服务端将返回此信息，表示确认，之后发送具体参数信息

<span class="token operator">-</span> <span class="token number">200</span> <span class="token constant">OK</span> 正常返回信息

<span class="token operator">-</span> <span class="token number">201</span> Created 请求成功并且服务器创建了新的资源

<span class="token operator">-</span> <span class="token number">202</span> Accepted 服务器已接受请求，但尚未处理

<span class="token operator">-</span> <span class="token number">301</span> Moved Permanently 请求的网页已永久移动到新位置。

<span class="token operator">-</span> <span class="token number">302</span> Found 临时性重定向。

<span class="token operator">-</span> <span class="token number">303</span> See Other 临时性重定向，且总是使用 <span class="token constant">GET</span> 请求新的 <span class="token constant">URI</span>。

<span class="token operator">-</span> <span class="token number">304</span> Not Modified 自从上次请求后，请求的网页未修改过。

<span class="token operator">-</span> <span class="token number">400</span> Bad Request 服务器无法理解请求的格式，客户端不应当尝试再次使用相同的内容发起请求。

<span class="token operator">-</span> <span class="token number">401</span> Unauthorized 请求未授权。

<span class="token operator">-</span> <span class="token number">403</span> Forbidden 禁止访问。

<span class="token operator">-</span> <span class="token number">404</span> Not Found 找不到如何与 <span class="token constant">URI</span> 相匹配的资源。

<span class="token operator">-</span> <span class="token number">500</span> Internal Server Error 最常见的服务器端错误。

<span class="token operator">-</span> <span class="token number">503</span> Service Unavailable 服务器端暂时无法处理请求（可能是过载或维护）。

</code></pre></div><h2 id="网络七层模型"><a href="#网络七层模型" aria-hidden="true" class="header-anchor">#</a> 网络七层模型</h2><ul><li><p>应用层：应用层、表示层、会话层（从上往下）（HTTP、FTP、SMTP、DNS）</p></li><li><p>传输层（TCP 和 UDP）</p></li><li><p>网络层（IP）</p></li><li><p>物理和数据链路层（以太网）</p></li></ul><div class="language-js extra-class"><pre class="language-js"><code>
  物理层：通过媒介传输比特<span class="token punctuation">,</span>确定机械及电气规范（比特Bit）

  数据链路层：将比特组装成帧和点到点的传递（帧Frame）

  网络层：负责数据包从源到宿的传递和网际互连（包PackeT）

  传输层：提供端到端的可靠报文传递和错误恢复（段Segment）

  会话层：建立、管理和终止会话（会话协议数据单元<span class="token constant">SPDU</span>）

  表示层：对数据进行翻译、加密和压缩（表示协议数据单元<span class="token constant">PPDU</span>）

  应用层：允许访问<span class="token constant">OSI</span>环境的手段（应用协议数据单元<span class="token constant">APDU</span>）

</code></pre></div><h2 id="网络协议"><a href="#网络协议" aria-hidden="true" class="header-anchor">#</a> 网络协议</h2><div class="language-js extra-class"><pre class="language-js"><code>
<span class="token constant">ICMP</span> 协议： 因特网控制报文协议。它是 <span class="token constant">TCP</span><span class="token operator">/</span><span class="token constant">IP</span> 协议族的一个子协议，用于在 <span class="token constant">IP</span> 主机、路由器之间传递控制消息。

<span class="token constant">TFTP</span> 协议： 是 <span class="token constant">TCP</span><span class="token operator">/</span><span class="token constant">IP</span> 协议族中的一个用来在客户机与服务器之间进行简单文件传输的协议，提供不复杂、开销不大的文件传输服务。

<span class="token constant">HTTP</span> 协议： 超文本传输协议，是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。

<span class="token constant">DHCP</span> 协议： 动态主机配置协议，是一种让系统得以连接到网络上，并获取所需要的配置参数手段。

</code></pre></div></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/cllemon/notes/edit/master/docs/app/Interview/Interview-network.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="last-updated"><span class="prefix">上次更新: </span><span class="time">5/3/2019, 3:04:57 AM</span></div></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/blog/app/Interview/Interview-html.html" class="prev">
          HTML
        </a></span><span class="next"><a href="/blog/app/Interview/Interview-algorithm.html">
          算法 相关
        </a> →
      </span></p></div></div></div></div>
    <script src="/blog/assets/js/app.bbf9b450.js" defer></script><script src="/blog/assets/js/31.295a6e5c.js" defer></script>
  </body>
</html>
